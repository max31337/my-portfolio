<header class="sticky top-0 z-40 w-full border-b border-border/60 bg-background/80 backdrop-blur supports-[backdrop-filter]:bg-background/60">
  <div class="mx-auto max-w-3xl px-4 h-14 flex items-center justify-between">
    <a href="{{ '/' | relative_url }}" class="font-medium tracking-tight">{{ site.title }}</a>
    <nav class="flex items-center gap-4 text-sm text-muted-foreground">
      <a class="hover:text-foreground" href="{{ '/' | relative_url }}">Home</a>
      <a class="hover:text-foreground" href="{{ '/blog/' | relative_url }}">Blog</a>
      <a class="hover:text-foreground" href="{{ '/projects/' | relative_url }}">Projects</a>
      <button id="theme-toggle" class="rounded-md border border-border px-2 py-1 text-xs hover:bg-accent hover:text-accent-foreground">
        <span class="[data-theme='light']:hidden" id="theme-dark-label">Dark</span>
        <span class="hidden [data-theme='light']:inline" id="theme-light-label">Light</span>
      </button>
    </nav>
  </div>
  <script>
    // Simple dark mode toggle with localStorage
    const root = document.documentElement;
    const stored = localStorage.getItem('theme');
    const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
    const initial = stored || (prefersDark ? 'dark' : 'light');
    if (initial === 'dark') root.classList.add('dark');
    root.dataset.theme = initial;
    const btn = document.getElementById('theme-toggle');
    const updateLabels = () => {
      const isDark = root.classList.contains('dark');
      root.dataset.theme = isDark ? 'dark' : 'light';
      document.getElementById('theme-dark-label').classList.toggle('hidden', isDark);
      document.getElementById('theme-light-label').classList.toggle('hidden', !isDark);
    };
    updateLabels();
    btn?.addEventListener('click', () => {
      root.classList.toggle('dark');
      localStorage.setItem('theme', root.classList.contains('dark') ? 'dark' : 'light');
      updateLabels();
    });
  </script>
</header>
